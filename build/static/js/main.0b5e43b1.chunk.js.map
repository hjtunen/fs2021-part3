{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","onClick","name","number","id","Persons","persons","map","Filter","value","onChange","PersonForm","props","onSubmit","nameValue","nameChange","numberValue","numberChange","type","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","update","put","delet","delete","Notification","message","success","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","setSuccess","useEffect","console","log","initialPersons","filtered","filter","toLowerCase","includes","event","target","preventDefault","personObject","find","x","window","confirm","setTimeout","catch","error","p","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0b5e43b1.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Person = ({person, onClick}) => {\r\n    return (\r\n      <div>\r\n        {person.name} {person.number}\r\n        <button onClick={() => onClick(person.id)}>delete</button>\r\n      </div>\r\n    )\r\n  }\r\n  \r\nconst Persons = ({persons, onClick}) => {\r\n    return persons.map(person => \r\n      <Person key={person.name} person={person} onClick={onClick}/>\r\n    )\r\n  }\r\n\r\nexport default Persons\r\n","import React from \"react\"\r\n\r\nconst Filter = ({value, onChange}) => {\r\n    return (\r\n      <input \r\n        value={value} \r\n        onChange={onChange}\r\n      />)\r\n    }\r\n\r\nexport default Filter","import React from \"react\"\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n    <form onSubmit={props.onSubmit}>\r\n      <div>\r\n        name: \r\n        <input \r\n          value={props.nameValue} \r\n          onChange={props.nameChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        number: \r\n        <input \r\n          value={props.numberValue} \r\n          onChange={props.numberChange} \r\n          />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>)\r\n  }\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst delet = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst personService = { getAll, create, update, delet }\r\n\r\nexport default personService","import React from \"react\"\r\n\r\nconst Notification = ({ message, success }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    let style = {}\r\n    if (success) {\r\n        style = {\r\n            color: 'green',\r\n            background: \"lightgrey\",\r\n            fontSize: 20,\r\n            borderStyle: \"solid\",\r\n            borderRadius: 5,\r\n            padding: 10,\r\n            marginBottom: 10\r\n        }\r\n    }else {\r\n        style = {\r\n            color: 'red',\r\n            background: \"lightgrey\",\r\n            fontSize: 20,\r\n            borderStyle: \"solid\",\r\n            borderRadius: 5,\r\n            padding: 10,\r\n            marginBottom: 10\r\n        }\r\n    }\r\n  \r\n    return (\r\n      <div style={style}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport personService from \"./services/persons\"\r\nimport Notification from './components/Notification'\r\n\r\n\r\nconst App = () => {\r\n  //const [persons, setPersons] = useState([\r\n  //  { name: 'Arto Hellas', number: '040-123456' },\r\n  //  { name: 'Ada Lovelace', number: '39-44-5323523' },\r\n  //  { name: 'Dan Abramov', number: '12-43-234345' },\r\n  //  { name: 'Mary Poppendieck', number: '39-23-6423122' }\r\n  //])\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter ] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [success, setSuccess] = useState(true)\r\n\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        console.log('promise fulfilled')\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.find(x => x.name === newName)) {\r\n      const person = persons.find(x => x.name === newName)\r\n      const choice = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\r\n\r\n      if (choice) {\r\n        personService\r\n          .update(person.id, personObject)\r\n          .then(data => {\r\n            personService\r\n              .getAll()\r\n              .then(initialPersons => {\r\n                setPersons(initialPersons)\r\n                setMessage(`Number of ${newName} updated to ${newNumber}`)\r\n                setSuccess(true)\r\n                setNewName(\"\")\r\n                setNewNumber(\"\")\r\n\r\n                setTimeout(() => {\r\n                  setMessage(null)\r\n                }, 5000)\r\n              })\r\n          })\r\n          .catch(error => {\r\n            setMessage(`Informatioon of ${newName} not found`)\r\n            setSuccess(false)\r\n            setPersons(persons.filter(p => p.name !== newName))\r\n\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n          })\r\n      }\r\n\r\n    }else {\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setMessage(`Added ${newName}`)\r\n          setSuccess(true)\r\n          setNewName(\"\")\r\n          setNewNumber(\"\")\r\n\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const deletPerson = (id) => {\r\n    console.log(`delet id ${id}`)\r\n    const person = persons.find(x => x.id === id)\r\n    const choice = window.confirm(`Delete ${person.name}?`)\r\n\r\n    if (choice) {\r\n      personService\r\n      .delet(id)\r\n      .then(data => {\r\n        personService\r\n          .getAll()\r\n          .then(initialPersons => {\r\n            setPersons(initialPersons)\r\n            setMessage(`Deleted ${person.name}`)\r\n            setSuccess(true)\r\n\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n          })\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    //console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n  const handleNumberChange = (event) => {\r\n    //console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const handleFilterChange = (event) => {\r\n    //console.log(event.target.value)\r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n  const filtered = persons.filter(person => \r\n    person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n        <Notification message={message} success={success} />\r\n        filter shown with\r\n        <Filter value={newFilter} onChange={handleFilterChange}/>\r\n      <h2>add a new</h2>\r\n      <PersonForm \r\n        onSubmit={addPerson}\r\n        nameValue={newName}\r\n        numberValue={newNumber}\r\n        nameChange={handleNameChange}\r\n        numberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={filtered} onClick={deletPerson}/>\r\n      \r\n\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />, \r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}